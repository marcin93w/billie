<html>
    <head>
        <title>My Awesome Webview</title>
    </head>
    <body>
        <script>
            (function(d, s, id){
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) {return;}
                js = d.createElement(s); js.id = id;
                js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'Messenger'));  
            
            window.extAsyncInit = function() {

            };
            function share() {
                try {
                let message = {
                    "attachment":{
                        "type":"template",
                        "payload":{
                            "template_type":"generic",
                            "elements": [{
                                "title":"Wisisz Marcinowi " + document.getElementById('amount').value + " z≈Ç",
                                "subtitle": "za piwo",
                                "image_url": "https://bot.peters-hats.com/img/hats/fez.jpg",
                                "default_action":{
                                    "type":"web_url",
                                    "url": "https://bot.peters-hats.com/view_quiz_results.php?user=24601"
                                },
                                "buttons":[{
                                    "type": "web_url",
                                    "url": "<URL_TO_OPEN_IN_WEBVIEW>",
                                    "title": "Akceptuj"
                                }]
                            }]
                        }
                    }
                    };

                    MessengerExtensions.beginShareFlow(function(share_response) {
                    // User dismissed without error, but did they share the message?
                    if(share_response.is_sent){
                        // The user actually did share. 
                        // Perhaps close the window w/ requestCloseBrowser().
                    }
                    }, 
                    function(errorCode, errorMessage) {      
                    // An error occurred in the process
                    alert(JSON.stringify(errorMessage));
                    },
                    message,
                    "current_thread");
                } catch(err) {
                    alert(JSON.stringify(err));
                }
            }
        </script>
        <input type="text" id="amount" />
        <a href="javascript:share()">share</a>
    </body>
</html>