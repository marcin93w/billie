<html>
    <head>
        <title>My Awesome Webview</title>
    </head>
    <body>
        <script>
            (function(d, s, id){
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) {return;}
                js = d.createElement(s); js.id = id;
                js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'Messenger'));  
            
            window.extAsyncInit = function() {

            };
            function share() {
                let message = {
                    "attachment":{
                        "type":"template",
                        "payload":{
                            "template_type":"button",
                            "text":`Pożyczyłeś od Marcina ${document.getElementById('amount').value} zł`,
                            "buttons":[
                              {
                                "type":"web_url",
                                "url":"https://www.messenger.com",
                                "title":"Save debt"
                              },
                              {
                                "type":"web_url",
                                "url":"https://www.messenger.com",
                                "title":"Cancel"
                              }
                            ]
                          }
                    }
                    };

                    MessengerExtensions.beginShareFlow(function(share_response) {
                    // User dismissed without error, but did they share the message?
                    if(share_response.is_sent){
                        // The user actually did share. 
                        // Perhaps close the window w/ requestCloseBrowser().
                    }
                    }, 
                    function(errorCode, errorMessage) {      
                    // An error occurred in the process

                    },
                    message,
                    "current_thread");
            }
        </script>
        <input type="text" id="amount" />
        <a href="javascript:share()">share</a>
    </body>
</html>